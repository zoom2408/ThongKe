<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Th·ªëng k√™ ·ª®ng d·ª•ng trong T√¢m l√Ω h·ªçc</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #e0eafc 0%, #cfdef3 100%); min-height: 100vh; color: #222; }
    .container { max-width: 1200px; margin: 0 auto; padding: 28px 12px; }
    .header { text-align: center; margin-bottom: 40px; color: #1a237e; }
    .header h1 { font-size: 2.4em; margin-bottom: 8px; font-weight: 800; }
    .header p { font-size: 1.1em; opacity: 0.93; }
    .tabs { display: flex; justify-content: center; flex-wrap: wrap; gap: 10px; margin-bottom: 26px; }
    .tab { padding: 11px 24px; background: #e3eafc; border: none; border-radius: 22px; color: #222; cursor: pointer; font-weight: 600; transition: all .2s; }
    .tab:hover, .tab.active { background: #4f8ef7; color: white; }
    .content { background: #fff; border-radius: 18px; padding: 28px 24px; box-shadow: 0 16px 32px rgba(52, 90, 182, 0.08); }
    .tab-content { display: none; }
    .tab-content.active { display: block; animation: fadeIn .5s; }
    @keyframes fadeIn { from {opacity: 0; transform: translateY(18px);} to {opacity: 1; transform: translateY(0);} }
    .highlight { background: #fffbe8; padding: 16px; border-radius: 8px; margin: 15px 0 24px 0; border-left: 5px solid #ff9800; }
    .model-diagram, .flow-schema { background: linear-gradient(120deg, #ddefff 0%, #cce2ff 100%); border-radius: 15px; padding: 20px; margin: 18px 0; text-align: center; }
    .example-title { font-weight: 600; color: #2d3436; }
    .practical-example { background: linear-gradient(120deg, #fdfbfb 0%, #ebedee 100%); border-radius: 12px; padding: 13px 18px; margin: 9px 0; }
    .chart-img { max-width: 320px; display: block; margin: 10px auto 20px auto; border-radius: 10px; border: 1px solid #d9e5f6;}
    .quiz-container { margin-top: 30px; }
    .question { background: #fff; border-radius: 8px; padding: 18px 20px; margin: 15px 0; box-shadow: 0 5px 15px rgba(0,0,0,0.04); border-left: 4px solid #1976d2; }
    .question h4 { color: #222; margin-bottom: 13px; }
    .options { list-style: none; padding: 0; margin:0; }
    .options li { padding: 10px 12px; margin: 6px 0; background: #f5f7fa; border-radius: 5px; cursor: pointer; transition: background .2s; }
    .options li:hover { background: #e3eafc; }
    .quiz-action-btn { background: linear-gradient(45deg, #43cea2, #185a9d); color: white; border: none; padding: 12px 28px; border-radius: 20px; cursor: pointer; font-size: 1em; margin: 18px 10px 0 0; transition: all .2s; }
    .quiz-action-btn:disabled { background: #bdbdbd; cursor: not-allowed; }
    .explain { font-size: 0.98em; margin: 7px 0 0 3px; color: #388e3c; }
    .wrong { color: #d32f2f; }
    .quiz-sticky-actions {
  position: sticky;
  bottom: 0;
  background: #fff;
  display: flex;
  gap: 16px;
  padding: 18px 0 10px 0;
  justify-content: flex-start;
  z-index: 2;
  border-radius: 0 0 16px 16px;
  box-shadow: 0 12px 32px -22px #1976d280;
}
@media (max-width:700px) {
  .quiz-sticky-actions {
    flex-direction: column;
    gap: 8px;
    padding: 10px 0 5px 0;
  }
}


    /* Org chart style (fill, scrollable, slide panel) */
    .orgchart-wrap { width:100%; max-width: 100vw; overflow-x:auto; margin-bottom:30px; }
    .orgchart-scroll { min-width: 900px; display: flex; flex-direction: column; }
    .org-level { display: flex; flex-direction: row; gap: 32px; justify-content: flex-start; padding: 20px 0 0 20px;}
    .card {
      min-width: 240px; max-width:320px; background:#fff;
      border-radius: 12px; padding: 16px 20px; box-shadow:0 2px 8px #0001; cursor:pointer;
      border-top: 5px solid #1976d2; margin-bottom:16px; flex-shrink:0; transition:.2s;
    }
    .card-title { font-size: 1.13em; font-weight: 700; color: #1976d2; }
    .card-content { font-size: 0.98em; color: #333;}
    .card:hover { box-shadow: 0 8px 24px rgba(25, 118, 210, 0.12); border-color: #388e3c; background:#f1fafb; }
    .slide-panel {
      position: fixed; top: 0; right: -450px; width: 400px; height: 100vh; background: #fff;
      box-shadow: -3px 0 24px rgba(0,0,0,0.09); z-index: 9999; transition: right 0.32s cubic-bezier(.5,.1,.6,1.2);
      border-left: 3px solid #1976d2;
      padding-top: 32px;
    }
    .slide-panel.open { right: 0; }
    .panel-content { padding: 28px 26px 20px 26px; }
    .close-btn {
      position: absolute; top:10px; right:18px; background: none; border:none; font-size: 2em; color:#888; cursor:pointer;
    }
    @media (max-width:700px){
      .slide-panel { width: 99vw; right: -100vw; }
      .orgchart-scroll { min-width:500px;}
      .container {padding:8px;} .model-diagram, .content {padding: 10px;}
    }
  </style>
</head>
<body>
<div class="container">
  <div class="header">
    <h1>üìä Th·ªëng k√™ ·ª®ng d·ª•ng trong T√¢m l√Ω h·ªçc</h1>
    <p>T·ªïng quan, l√Ω thuy·∫øt, s∆° ƒë·ªì ki·ªÉm ƒë·ªãnh, v√≠ d·ª• & luy·ªán t·∫≠p tr·∫Øc nghi·ªám ‚Äì Chu·∫©n b·ªã cho ki·ªÉm tra!</p>
  </div>
<div class="tabs">
  <button class="tab active" onclick="showTab(event, 'definitions')">ƒê·ªãnh nghƒ©a & Ph√¢n lo·∫°i</button>
  <button class="tab" onclick="showTab(event, 'schema')">L∆∞u ƒë·ªì & S∆° ƒë·ªì tr·ª±c quan</button>
  <button class="tab" onclick="showTab(event, 'examples')">V√≠ d·ª• th·ª±c ti·ªÖn & Minh h·ªça</button>
  <button class="tab" onclick="showTab(event, 'quiz')">Quiz tr·∫Øc nghi·ªám</button>
  <a class="tab" href="classquiz.html" target="_blank" rel="noopener">Class Quiz</a>
</div>

  <div class="content">
    <!-- ƒê·ªãnh nghƒ©a & Ph√¢n lo·∫°i -->
    <div class="tab-content active" id="definitions">
      <div class="highlight"><b>Th·ªëng k√™</b> l√† c√¥ng c·ª• gi√∫p ph√¢n t√≠ch, m√¥ t·∫£, v√† suy lu·∫≠n t·ª´ d·ªØ li·ªáu, ƒë·∫∑c bi·ªát trong nghi√™n c·ª©u t√¢m l√Ω h·ªçc.</div>
      <b>Ph√¢n lo·∫°i th·ªëng k√™:</b>
      <ul>
        <li><b>Th·ªëng k√™ m√¥ t·∫£ (Descriptive statistics):</b> T√≥m t·∫Øt d·ªØ li·ªáu (trung b√¨nh, ƒë·ªô l·ªách chu·∫©n, t·ª∑ l·ªá, v.v) v√† tr√¨nh b√†y qua b·∫£ng, bi·ªÉu ƒë·ªì.</li>
        <li><b>Th·ªëng k√™ suy lu·∫≠n (Inferential statistics):</b> Suy lu·∫≠n v·ªÅ d√¢n s·ªë t·ª´ m·∫´u qua ki·ªÉm ƒë·ªãnh gi·∫£ thuy·∫øt, ∆∞·ªõc l∆∞·ª£ng tham s·ªë, ph√¢n t√≠ch t∆∞∆°ng quan, h·ªìi quy, v.v.</li>
      </ul>
      <b>Kh√°i ni·ªám c∆° b·∫£n:</b>
      <ul>
        <li><b>Trung b√¨nh (Mean):</b> T·ªïng c√°c gi√° tr·ªã chia cho s·ªë l∆∞·ª£ng quan s√°t.</li>
        <li><b>Trung v·ªã (Median):</b> Gi√° tr·ªã n·∫±m gi·ªØa d√£y s·ªë ƒë√£ s·∫Øp x·∫øp.</li>
        <li><b>Mode (Y·∫øu v·ªã):</b> Gi√° tr·ªã xu·∫•t hi·ªán nhi·ªÅu nh·∫•t.</li>
        <li><b>ƒê·ªô l·ªách chu·∫©n (Standard deviation):</b> ƒêo ƒë·ªô ph√¢n t√°n quanh trung b√¨nh.</li>
        <li><b>Ph√¢n ph·ªëi chu·∫©n (Normal distribution):</b> ƒê∆∞·ªùng cong h√¨nh chu√¥ng, mean = median = mode.</li>
        <li><b>Ph√¢n ph·ªëi m·∫´u (Sampling distribution):</b> Ph√¢n ph·ªëi x√°c su·∫•t c·ªßa m·ªôt th·ªëng k√™ t·ª´ nhi·ªÅu m·∫´u.</li>
        <li><b>Kho·∫£ng tin c·∫≠y (Confidence interval):</b> Kho·∫£ng gi√° tr·ªã tham s·ªë th·ª±c n·∫±m trong v·ªõi x√°c su·∫•t nh·∫•t ƒë·ªãnh (vd 95%).</li>
        <li><b>L·ªói lo·∫°i I & II:</b> B√°c b·ªè ƒë√∫ng/sai gi·∫£ thuy·∫øt kh√¥ng (Type I/II error).</li>
        <li><b>p-value:</b> X√°c su·∫•t c√≥ ƒë∆∞·ª£c k·∫øt qu·∫£ nh∆∞ quan s√°t n·∫øu gi·∫£ thuy·∫øt kh√¥ng ƒë√∫ng.</li>
      </ul>
      <b>Ph√¢n lo·∫°i thang ƒëo:</b>
      <ul>
        <li><b>ƒê·ªãnh danh (Nominal):</b> M√£ h√≥a kh√¥ng c√≥ th·ª© b·∫≠c (gi·ªõi t√≠nh, t√¨nh tr·∫°ng h√¥n nh√¢n).</li>
        <li><b>Th·ª© b·∫≠c (Ordinal):</b> C√≥ th·ª© b·∫≠c, nh∆∞ng kh√¥ng c√≥ kho·∫£ng c√°ch ƒë·ªÅu (tr√¨nh ƒë·ªô h·ªçc v·∫•n).</li>
        <li><b>Kho·∫£ng (Interval):</b> C√≥ kho·∫£ng c√°ch ƒë·ªÅu, kh√¥ng c√≥ zero tuy·ªát ƒë·ªëi (nhi·ªát ƒë·ªô).</li>
        <li><b>T·ª∑ l·ªá (Ratio):</b> C√≥ zero tuy·ªát ƒë·ªëi (c√¢n n·∫∑ng, chi·ªÅu cao).</li>
      </ul>
    </div>
    <!-- L∆∞u ƒë·ªì & S∆° ƒë·ªì tr·ª±c quan -->
    <div class="tab-content" id="schema">
      <div class="model-diagram"><b>üå≥ S∆° ƒë·ªì c√°c ki·ªÉm ƒë·ªãnh th·ªëng k√™ th∆∞·ªùng d√πng</b></div>
      <div class="orgchart-wrap">
        <div class="orgchart-scroll">
          <div class="org-level">
            <div class="card" onclick="showPanel('t-test')">
              <div class="card-title">t-test ƒë·ªôc l·∫≠p</div>
              <div class="card-content">So s√°nh trung b√¨nh 2 nh√≥m ƒë·ªôc l·∫≠p</div>
            </div>
            <div class="card" onclick="showPanel('anova')">
              <div class="card-title">ANOVA</div>
              <div class="card-content">So s√°nh trung b√¨nh ‚â•3 nh√≥m</div>
            </div>
            <div class="card" onclick="showPanel('chi2')">
              <div class="card-title">Chi-square test</div>
              <div class="card-content">So s√°nh t·ª∑ l·ªá/ph√¢n lo·∫°i gi·ªØa c√°c nh√≥m</div>
            </div>
            <div class="card" onclick="showPanel('correlation')">
              <div class="card-title">T∆∞∆°ng quan Pearson/Spearman</div>
              <div class="card-content">M·ªëi li√™n h·ªá gi·ªØa 2 bi·∫øn li√™n t·ª•c</div>
            </div>
            <div class="card" onclick="showPanel('regression')">
              <div class="card-title">H·ªìi quy tuy·∫øn t√≠nh</div>
              <div class="card-content">D·ª± ƒëo√°n bi·∫øn li√™n t·ª•c t·ª´ bi·∫øn kh√°c</div>
            </div>
          </div>
        </div>
      </div>
      <div class="model-diagram" style="margin-top:20px;">
        <b>üîë C√°ch nh·∫≠n di·ªán nhanh c√°c lo·∫°i bi·∫øn</b>
        <ul style="text-align:left; display:inline-block;">
          <li><b>ƒê·ªãnh danh (Nominal):</b> Ch·ªâ g√°n t√™n/m√£ (Gi·ªõi t√≠nh, nh√≥m m√°u)</li>
          <li><b>Th·ª© b·∫≠c (Ordinal):</b> C√≥ th·ª© t·ª± (H√†i l√≤ng: th·∫•p-v·ª´a-cao, x·∫øp lo·∫°i h·ªçc l·ª±c)</li>
          <li><b>Kho·∫£ng (Interval):</b> Kho·∫£ng c√°ch ƒë·ªÅu, kh√¥ng c√≥ zero tuy·ªát ƒë·ªëi (Nhi·ªát ƒë·ªô, ƒëi·ªÉm IQ)</li>
          <li><b>T·ª∑ l·ªá (Ratio):</b> C√≥ zero tuy·ªát ƒë·ªëi, nh√¢n chia ƒë∆∞·ª£c (Tu·ªïi, chi·ªÅu cao, c√¢n n·∫∑ng)</li>
        </ul>
        <i>L∆∞u √Ω: Bi·∫øn ƒëo b·∫±ng thang ƒëi·ªÉm Likert (&lt;7 l·ª±a ch·ªçn) th∆∞·ªùng xem l√† Ordinal.</i>
      </div>
      <div id="panel" class="slide-panel">
        <div class="panel-content">
          <button class="close-btn" onclick="closePanel()">&times;</button>
          <div id="panel-title"></div>
          <div id="panel-detail"></div>
        </div>
      </div>
    </div>
    <!-- V√≠ d·ª• th·ª±c ti·ªÖn -->
    <div class="tab-content" id="examples">
      <div class="practical-example">
        <div class="example-title">V√≠ d·ª• 1: t-test ƒë·ªôc l·∫≠p</div>
        M·ªôt nh√† t√¢m l√Ω h·ªçc so s√°nh ƒëi·ªÉm tr·∫ßm c·∫£m gi·ªØa hai nh√≥m ‚Äì c√≥ v√† kh√¥ng t·∫≠p th·ªÉ d·ª•c.<br>
        <b>Ki·ªÉm ƒë·ªãnh:</b> <i>Independent sample t-test</i>
      </div>
      <div class="practical-example">
        <div class="example-title">V√≠ d·ª• 2: ANOVA m·ªôt chi·ªÅu</div>
        Nghi√™n c·ª©u ƒë√°nh gi√° ·∫£nh h∆∞·ªüng c·ªßa 3 ph∆∞∆°ng ph√°p h·ªçc ƒë·∫øn ƒëi·ªÉm ki·ªÉm tra t√¢m l√Ω.<br>
        <b>Ki·ªÉm ƒë·ªãnh:</b> <i>One-way ANOVA</i>
      </div>
      <div class="practical-example">
        <div class="example-title">V√≠ d·ª• 3: Ki·ªÉm ƒë·ªãnh Chi-square</div>
        So s√°nh t·ª∑ l·ªá m·∫Øc stress ·ªü c√°c khoa kh√°c nhau trong tr∆∞·ªùng ƒë·∫°i h·ªçc.<br>
        <b>Ki·ªÉm ƒë·ªãnh:</b> <i>Chi-square Test</i>
      </div>
      <div class="practical-example">
        <div class="example-title">V√≠ d·ª• 4: H·ªìi quy tuy·∫øn t√≠nh</div>
        D·ª± ƒëo√°n ƒëi·ªÉm h√†i l√≤ng trong c√¥ng vi·ªác d·ª±a tr√™n s·ªë gi·ªù ng·ªß m·ªói ƒë√™m.<br>
        <b>Ph√¢n t√≠ch:</b> <i>Linear Regression</i>
      </div>
    </div>
    <!-- Quiz tr·∫Øc nghi·ªám -->
    <div class="tab-content" id="quiz">
      <div class="quiz-container" id="quiz-area"></div>
     <div class="quiz-sticky-actions">
  <button class="quiz-action-btn" id="submit-btn" onclick="submitQuiz()">N·ªôp b√†i</button>
  <button class="quiz-action-btn" id="reset-btn" onclick="resetQuiz()">L√†m l·∫°i</button>
</div>

      <div id="quiz-score"></div>
    </div>

  </div>
</div>
<script>
// Tab handler
function showTab(event, tabName) {
  document.querySelectorAll('.tab').forEach(e => e.classList.remove('active'));
  document.querySelectorAll('.tab-content').forEach(e => e.classList.remove('active'));
  if(event) event.target.classList.add('active');
  document.getElementById(tabName).classList.add('active');
  if(tabName === "quiz") resetQuiz();
  if(tabName !== "schema") closePanel();
}
// Slide panel data
const panelData = {
  "t-test": {
    title: "t-test ƒë·ªôc l·∫≠p",
    html: `
    <b>Khi n√†o d√πng:</b> So s√°nh trung b√¨nh c·ªßa 2 nh√≥m ƒë·ªôc l·∫≠p (vd: nam vs n·ªØ).<br><br>
    <b>ƒêi·ªÅu ki·ªán:</b>
    <ul>
      <li>Bi·∫øn ph·ª• thu·ªôc l√† ƒë·ªãnh l∆∞·ª£ng (interval/ratio)</li>
      <li>2 nh√≥m ƒë·ªôc l·∫≠p</li>
      <li>Ph√¢n ph·ªëi chu·∫©n, ph∆∞∆°ng sai ƒë·ªìng nh·∫•t</li>
    </ul>
    <b>C√°c b∆∞·ªõc th·ª±c hi·ªán:</b>
    <ol>
      <li>Ki·ªÉm tra ph√¢n ph·ªëi (Histogram/Normality test)</li>
      <li>Ki·ªÉm tra ph∆∞∆°ng sai (Levene's Test)</li>
      <li>Ch·∫°y t-test</li>
    </ol>
    <b>Th√¥ng s·ªë n√™n ƒë·ªçc tr√™n output:</b>
    <ul>
      <li><b>Mean ¬± SD</b> m·ªói nh√≥m</li>
      <li><b>t-value</b></li>
      <li><b>df</b> (b·∫≠c t·ª± do)</li>
      <li><b>p-value</b>: <i>√ù nghƒ©a n·∫øu &lt;0.05</i></li>
      <li><b>Effect size</b> (Cohen's d n·∫øu c√≥)</li>
    </ul>
    `
  },
  "anova": {
    title: "ANOVA (Analysis of Variance)",
    html: `
    <b>Khi n√†o d√πng:</b> So s√°nh trung b√¨nh t·ª´ 3 nh√≥m tr·ªü l√™n.<br><br>
    <b>ƒêi·ªÅu ki·ªán:</b>
    <ul>
      <li>Bi·∫øn ph·ª• thu·ªôc: ƒë·ªãnh l∆∞·ª£ng (interval/ratio)</li>
      <li>C√°c nh√≥m ƒë·ªôc l·∫≠p</li>
      <li>Ph√¢n ph·ªëi chu·∫©n, ph∆∞∆°ng sai ƒë·ªìng nh·∫•t</li>
    </ul>
    <b>C√°c b∆∞·ªõc th·ª±c hi·ªán:</b>
    <ol>
      <li>Ki·ªÉm tra ph√¢n ph·ªëi (Normality)</li>
      <li>Ki·ªÉm tra ph∆∞∆°ng sai (Levene's Test)</li>
      <li>Ch·∫°y ANOVA</li>
      <li>N·∫øu c√≥ √Ω nghƒ©a, l√†m Post-hoc test ƒë·ªÉ bi·∫øt nh√≥m n√†o kh√°c bi·ªát</li>
    </ol>
    <b>Th√¥ng s·ªë n√™n ƒë·ªçc tr√™n output:</b>
    <ul>
      <li><b>Mean ¬± SD</b> m·ªói nh√≥m</li>
      <li><b>F-value, df gi·ªØa v√† trong</b></li>
      <li><b>p-value</b></li>
      <li><b>Effect size</b> (Partial eta squared)</li>
      <li><b>K·∫øt qu·∫£ post-hoc</b></li>
    </ul>
    `
  },
  "chi2": {
    title: "Chi-square test",
    html: `
    <b>Khi n√†o d√πng:</b> So s√°nh t·ªâ l·ªá/ph√¢n lo·∫°i gi·ªØa c√°c nh√≥m.<br><br>
    <b>ƒêi·ªÅu ki·ªán:</b>
    <ul>
      <li>D·ªØ li·ªáu ƒë·ªãnh t√≠nh/ƒë·ªãnh danh (nominal/categorical)</li>
      <li>S·ªë quan s√°t trong m·ªói √¥ >= 5 (n√™n c√≥)</li>
    </ul>
    <b>C√°c b∆∞·ªõc th·ª±c hi·ªán:</b>
    <ol>
      <li>L·∫≠p b·∫£ng t·∫ßn s·ªë (contingency table)</li>
      <li>Ch·∫°y ki·ªÉm ƒë·ªãnh Chi-square</li>
      <li>Ki·ªÉm tra expected count</li>
    </ol>
    <b>Th√¥ng s·ªë n√™n ƒë·ªçc tr√™n output:</b>
    <ul>
      <li><b>Chi-square value (œá¬≤)</b></li>
      <li><b>df</b></li>
      <li><b>p-value</b></li>
      <li><b>Percentage/Proportion c√°c nh√≥m</b></li>
    </ul>
    `
  },
  "correlation": {
    title: "T∆∞∆°ng quan Pearson/Spearman",
    html: `
    <b>Khi n√†o d√πng:</b> ƒêo ƒë·ªô m·∫°nh v√† chi·ªÅu c·ªßa m·ªëi li√™n h·ªá gi·ªØa 2 bi·∫øn ƒë·ªãnh l∆∞·ª£ng.<br><br>
    <b>ƒêi·ªÅu ki·ªán:</b>
    <ul>
      <li>Pearson: 2 bi·∫øn li√™n t·ª•c, ph√¢n ph·ªëi chu·∫©n</li>
      <li>Spearman: 2 bi·∫øn th·ª© b·∫≠c ho·∫∑c 1 bi·∫øn kh√¥ng chu·∫©n</li>
    </ul>
    <b>C√°c b∆∞·ªõc th·ª±c hi·ªán:</b>
    <ol>
      <li>Ki·ªÉm tra lo·∫°i bi·∫øn & ph√¢n ph·ªëi</li>
      <li>Ch·∫°y t∆∞∆°ng quan Pearson/Spearman</li>
    </ol>
    <b>Th√¥ng s·ªë n√™n ƒë·ªçc tr√™n output:</b>
    <ul>
      <li><b>r-value</b> (h·ªá s·ªë t∆∞∆°ng quan, t·ª´ -1 ƒë·∫øn 1)</li>
      <li><b>p-value</b></li>
      <li><b>N</b> (s·ªë m·∫´u)</li>
    </ul>
    `
  },
  "regression": {
    title: "H·ªìi quy tuy·∫øn t√≠nh",
    html: `
    <b>Khi n√†o d√πng:</b> D·ª± ƒëo√°n gi√° tr·ªã bi·∫øn ph·ª• thu·ªôc ƒë·ªãnh l∆∞·ª£ng t·ª´ 1 hay nhi·ªÅu bi·∫øn ƒë·ªôc l·∫≠p.<br><br>
    <b>ƒêi·ªÅu ki·ªán:</b>
    <ul>
      <li>Bi·∫øn ph·ª• thu·ªôc li√™n t·ª•c</li>
      <li>M·ªëi quan h·ªá tuy·∫øn t√≠nh</li>
      <li>C√°c gi·∫£ ƒë·ªãnh v·ªÅ ph√¢n ph·ªëi, outlier, homoscedasticity</li>
    </ul>
    <b>C√°c b∆∞·ªõc th·ª±c hi·ªán:</b>
    <ol>
      <li>Ki·ªÉm tra gi·∫£ ƒë·ªãnh</li>
      <li>Ch·∫°y h·ªìi quy</li>
      <li>Ki·ªÉm tra residuals</li>
    </ol>
    <b>Th√¥ng s·ªë n√™n ƒë·ªçc tr√™n output:</b>
    <ul>
      <li><b>B (Beta, h·ªá s·ªë h·ªìi quy)</b></li>
      <li><b>R¬≤</b> (ph·∫ßn trƒÉm gi·∫£i th√≠ch ph∆∞∆°ng sai)</li>
      <li><b>p-value</b></li>
      <li><b>Ki·ªÉm tra c√°c gi·∫£ ƒë·ªãnh</b></li>
    </ul>
    `
  }
};
function showPanel(key) {
  document.getElementById('panel-title').innerHTML = panelData[key].title;
  document.getElementById('panel-detail').innerHTML = panelData[key].html;
  document.getElementById('panel').classList.add('open');
}
function closePanel() {
  document.getElementById('panel').classList.remove('open');
}
// QUIZ ENGINE
const allQuestions = [
    {q: "M·ªôt nh√† nghi√™n c·ª©u ki·ªÉm tra t√°c ƒë·ªông c·ªßa ch∆∞∆°ng tr√¨nh can thi·ªáp gi·∫£m lo √¢u. Sau ph√¢n t√≠ch, b√°c b·ªè gi·∫£ thuy·∫øt kh√¥ng, d√π ch∆∞∆°ng tr√¨nh th·∫≠t ra kh√¥ng hi·ªáu qu·∫£. ƒê√¢y l√† l·ªói g√¨?", opts: ["L·ªói lo·∫°i II", "L·ªói lo·∫°i I", "Sai m√¥ h√¨nh", "Kh√¥ng ƒë√°p √°n n√†o ƒë√∫ng"], ans: 1, explain: "L·ªói lo·∫°i I: B√°c b·ªè gi·∫£ thuy·∫øt kh√¥ng khi n√≥ ƒë√∫ng."},
    {q: "N·∫øu p-value < 0.05 trong ki·ªÉm ƒë·ªãnh gi·∫£ thuy·∫øt, nghƒ©a l√† g√¨?", opts: ["Ch·∫•p nh·∫≠n gi·∫£ thuy·∫øt kh√¥ng", "B√°c b·ªè gi·∫£ thuy·∫øt kh√¥ng", "D·ªØ li·ªáu kh√¥ng √Ω nghƒ©a", "D·ªØ li·ªáu ph√¢n ph·ªëi chu·∫©n"], ans: 1, explain: "p < 0.05: K·∫øt qu·∫£ c√≥ √Ω nghƒ©a th·ªëng k√™, b√°c b·ªè gi·∫£ thuy·∫øt kh√¥ng."},
    {q: "M·ªôt ph√¢n ph·ªëi l·ªách ph·∫£i (positively skewed) c√≥ ƒë·∫∑c ƒëi·ªÉm n√†o?", opts: ["ƒêu√¥i ph·∫£i d√†i h∆°n ƒëu√¥i tr√°i", "ƒêu√¥i tr√°i d√†i h∆°n ƒëu√¥i ph·∫£i", "Trung b√¨nh < trung v·ªã", "Trung b√¨nh = trung v·ªã"], ans: 0, explain: "L·ªách ph·∫£i: ƒêu√¥i b√™n ph·∫£i d√†i h∆°n, mean > median."},
    {q: "Trong ki·ªÉm ƒë·ªãnh ANOVA 2 y·∫øu t·ªë c√≥ l·∫∑p, ki·ªÉm tra ƒë·ªìng nh·∫•t ph∆∞∆°ng sai b·∫±ng?", opts: ["Mauchly's Test for Sphericity", "Shapiro-Wilk Test", "Collinearity", "Homogeneity Test"], ans: 0, explain: "ANOVA repeated: ki·ªÉm tra sphericity = Mauchly's Test."},
    {q: "Mixed ANOVA ki·ªÉm tra hi·ªáu qu·∫£ gi·∫£m stress theo nh√≥m v√† th·ªùi gian. T∆∞∆°ng t√°c n√†o quan tr·ªçng nh·∫•t?", opts: ["Main effect of time", "Main effect of group", "Group √ó Time interaction", "Random error"], ans: 2, explain: "Quan tr·ªçng nh·∫•t l√† s·ª± t∆∞∆°ng t√°c gi·ªØa nh√≥m v√† th·ªùi gian."},
    {q: "Bi·ªÉu ƒë·ªì n√†o gi√∫p ph√°t hi·ªán outlier?", opts: ["Scatter plot", "Box plot", "Line plot", "Histogram"], ans: 1, explain: "Boxplot th·ªÉ hi·ªán outlier b·∫±ng c√°c ƒëi·ªÉm ngo√†i h·ªôp."},
    {q: "D·ªØ li·ªáu kh√¥ng ph√¢n ph·ªëi chu·∫©n v√† ph∆∞∆°ng sai kh√¥ng ƒë·ªìng nh·∫•t, n√™n d√πng ki·ªÉm ƒë·ªãnh n√†o?", opts: ["Ph√¢n t√≠ch h·ªìi quy", "Welch t-test + Paired t-test", "Mann-Whitney U + Wilcoxon", "Chuy·ªÉn ƒë·ªïi d·ªØ li·ªáu r·ªìi t-test"], ans: 2, explain: "N√™n d√πng test phi tham s·ªë khi d·ªØ li·ªáu vi ph·∫°m gi·∫£ ƒë·ªãnh."},
    {q: "So s√°nh ƒëi·ªÉm tr∆∞·ªõc v√† sau tr·ªã li·ªáu tr√™n c√πng nh√≥m. D√πng ki·ªÉm ƒë·ªãnh n√†o?", opts: ["One-way Repeated Measure ANOVA", "Independent t-test", "Paired sample t-test", "Linear regression"], ans: 2, explain: "C√πng nh√≥m, ƒëo hai l·∫ßn: paired sample t-test."},
    {q: "ANOVA m·ªôt chi·ªÅu: F = 4.67, p = 0.002, df = 2/28. K·∫øt lu·∫≠n g√¨?", opts: ["Kh√¥ng kh√°c bi·ªát gi·ªØa nh√≥m", "C√≥ √≠t nh·∫•t m·ªôt nh√≥m kh√°c bi·ªát", "T·∫•t c·∫£ nh√≥m ƒë·ªÅu gi·ªëng nhau", "Kh√¥ng k·∫øt lu·∫≠n ƒë∆∞·ª£c"], ans: 1, explain: "p < 0.05, c√≥ s·ª± kh√°c bi·ªát gi·ªØa c√°c nh√≥m."},
    {q: "ƒê·ªãnh l√Ω gi·ªõi h·∫°n trung t√¢m (Central Limit Theorem) n√≥i v·ªÅ ƒëi·ªÅu g√¨?", opts: ["M·∫´u ƒë·ªß l·ªõn, trung b√¨nh m·∫´u x·∫•p x·ªâ chu·∫©n", "M·∫´u nh·ªè s·∫Ω kh√¥ng ch√≠nh x√°c", "D·ªØ li·ªáu lu√¥n chu·∫©n", "Ch·ªâ d√πng cho t-test"], ans: 0, explain: "L·∫•y m·∫´u ƒë·ªß l·ªõn th√¨ ph√¢n ph·ªëi trung b√¨nh m·∫´u g·∫ßn chu·∫©n."},
    {q: "Thang ƒëo n√†o c√≥ zero tuy·ªát ƒë·ªëi, c√≥ th·ªÉ nh√¢n chia?", opts: ["Nominal", "Ordinal", "Interval", "Ratio"], ans: 3, explain: "Ratio: c√≥ zero tuy·ªát ƒë·ªëi, ph√©p to√°n + - √ó √∑."},
    {q: "H·ªá s·ªë t∆∞∆°ng quan r = 0.8 cho bi·∫øt g√¨?", opts: ["T∆∞∆°ng quan y·∫øu", "T∆∞∆°ng quan trung b√¨nh", "T∆∞∆°ng quan m·∫°nh", "Kh√¥ng c√≥ t∆∞∆°ng quan"], ans: 2, explain: "r > 0.7: t∆∞∆°ng quan r·∫•t m·∫°nh."},
    {q: "Trong h·ªìi quy, gi·∫£ ƒë·ªãnh ƒë·ªìng ph∆∞∆°ng sai (homoscedasticity) nghƒ©a l√†?", opts: ["Sai s·ªë c√≥ ph∆∞∆°ng sai kh√¥ng ƒë·ªïi", "D·ªØ li·ªáu ph·∫£i chu·∫©n", "Sai s·ªë ƒë·ªôc l·∫≠p", "Bi·∫øn d·ª± b√°o ph·∫£i chu·∫©n"], ans: 0, explain: "Homoscedasticity: Ph∆∞∆°ng sai c·ªßa residual kh√¥ng ƒë·ªïi."},
    {q: "Ki·ªÉm ƒë·ªãnh Chi-square th∆∞·ªùng √°p d·ª•ng khi n√†o?", opts: ["D·ªØ li·ªáu li√™n t·ª•c", "So s√°nh t·ªâ l·ªá hai nh√≥m", "D·ªØ li·ªáu ph√¢n lo·∫°i/ƒë·ªãnh t√≠nh", "D·ªØ li·ªáu ƒë·ªãnh l∆∞·ª£ng"], ans: 2, explain: "Chi-square: d√πng cho d·ªØ li·ªáu ph√¢n lo·∫°i."},
    {q: "Y·∫øu t·ªë n√†o kh√¥ng ph·∫£i l√† y√™u c·∫ßu c·ªßa Independent t-test?", opts: ["D·ªØ li·ªáu ƒë·ªôc l·∫≠p", "D·ªØ li·ªáu chu·∫©n", "Ph∆∞∆°ng sai ƒë·ªìng nh·∫•t", "D·ªØ li·ªáu ordinal"], ans: 3, explain: "t-test d√πng cho interval/ratio, kh√¥ng ph·∫£i ordinal."},
    {q: "Trong nghi√™n c·ª©u m√¥ h√¨nh trung gian (mediation), bi·∫øn trung gian l√† g√¨?", opts: ["Bi·∫øn l√†m thay ƒë·ªïi ƒë·ªô m·∫°nh c·ªßa m·ªëi quan h·ªá", "Bi·∫øn n·∫±m tr√™n ƒë∆∞·ªùng truy·ªÅn nh√¢n qu·∫£", "Bi·∫øn ƒë·ªôc l·∫≠p", "Bi·∫øn ph·ª• thu·ªôc"], ans: 1, explain: "Mediator l√† bi·∫øn n·∫±m gi·ªØa X v√† Y tr√™n chu·ªói nh√¢n qu·∫£."},
    {q: "Trong m√¥ h√¨nh ƒëi·ªÅu ti·∫øt (moderation), moderator l√† g√¨?", opts: ["Bi·∫øn n·∫±m gi·ªØa X v√† Y", "Bi·∫øn l√†m thay ƒë·ªïi hi·ªáu ·ª©ng c·ªßa X l√™n Y", "Bi·∫øn k·∫øt qu·∫£", "Bi·∫øn ki·ªÉm so√°t"], ans: 1, explain: "Moderator ƒëi·ªÅu ch·ªânh ƒë·ªô m·∫°nh/m·ªëi li√™n h·ªá gi·ªØa X-Y."},
    {q: "Outlier c√≥ th·ªÉ ph√°t hi·ªán qua?", opts: ["Histogram", "Boxplot", "Bar chart", "Pie chart"], ans: 1, explain: "Boxplot th·ªÉ hi·ªán outlier t·ªët nh·∫•t."},
    {q: "Trong ki·ªÉm ƒë·ªãnh gi·∫£ thuy·∫øt, gi·∫£ thuy·∫øt kh√¥ng (H0) th∆∞·ªùng l√† g√¨?", opts: ["C√≥ hi·ªáu ·ª©ng", "Kh√¥ng c√≥ hi·ªáu ·ª©ng", "Hi·ªáu ·ª©ng m·∫°nh", "D·ªØ li·ªáu c√≥ t∆∞∆°ng quan"], ans: 1, explain: "H0 l√† gi·∫£ thuy·∫øt kh√¥ng c√≥ hi·ªáu ·ª©ng ho·∫∑c kh√°c bi·ªát."},
    {q: "N·∫øu nghi√™n c·ª©u ƒëo m·ª©c ƒë·ªô h√†i l√≤ng 3 nh√≥m kh√°c nhau, n√™n d√πng?", opts: ["t-test", "Chi-square", "One-way ANOVA", "H·ªìi quy"], ans: 2, explain: "So s√°nh 3 nh√≥m: one-way ANOVA."}
    // (B·∫°n c√≥ th·ªÉ b·ªï sung th√™m c√¢u h·ªèi t·∫°i ƒë√¢y)
];
// L·∫•y ng·∫´u nhi√™n 20 c√¢u, shuffle ƒë√°p √°n
let quizQuestions = [];
function shuffleArray(arr) {
    for (let i = arr.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arr[i], arr[j]] = [arr[j], arr[i]];
    }
}
function generateQuiz() {
    quizQuestions = [];
    const indexes = Array.from(Array(allQuestions.length).keys());
    shuffleArray(indexes);
    const picked = indexes.slice(0, 20);
    picked.forEach(i => {
        let q = allQuestions[i];
        let opts = q.opts.slice();
        let correct = q.ans;
        let origIdx = [...opts.keys()];
        shuffleArray(origIdx);
        let shuffledOpts = origIdx.map(k => opts[k]);
        let newAns = origIdx.indexOf(correct);
        quizQuestions.push({...q, opts: shuffledOpts, ans: newAns});
    });
}
function renderQuiz() {
    let html = '';
    quizQuestions.forEach((q, idx) => {
        html += `<div class="question" data-idx="${idx}">
            <h4>C√¢u ${idx+1}: ${q.q}</h4>
            <ul class="options">` + q.opts.map((opt, j) =>
            `<li onclick="chooseOption(${idx},${j})" id="q${idx}o${j}">${opt}</li>`
        ).join('') + `</ul>
            <div class="explain" id="explain${idx}"></div>
        </div>`;
    });
    document.getElementById('quiz-area').innerHTML = html;
    document.getElementById('quiz-score').innerHTML = '';
}
let userAnswers = {};
function chooseOption(qIdx, optIdx) {
    if (window.quizSubmitted) return;
    userAnswers[qIdx] = optIdx;
    quizQuestions[qIdx].opts.forEach((_,j)=>{
        document.getElementById(`q${qIdx}o${j}`).style.background = j===optIdx ? "#dbeafe" : "#f5f7fa";
    });
}
function submitQuiz() {
    if (window.quizSubmitted) return;
    let score = 0;
    quizQuestions.forEach((q, i) => {
        let user = userAnswers[i];
        let ex = document.getElementById('explain'+i);
        if (user === q.ans) {
            score++;
            ex.innerHTML = '<span>‚úîÔ∏è ƒê√∫ng. ' + q.explain + '</span>';
            ex.classList.remove('wrong');
        } else {
            ex.innerHTML = '<span class="wrong">‚ùå Sai.</span> ' + q.explain;
            ex.classList.add('wrong');
        }
    });
    document.getElementById('quiz-score').innerHTML =
        `<div style="font-weight:700; font-size:1.2em; margin:16px 0;">B·∫°n ƒë√∫ng ${score}/20 c√¢u.</div>`;
    window.quizSubmitted = true;
}
function resetQuiz() {
    window.quizSubmitted = false;
    userAnswers = {};
    generateQuiz();
    renderQuiz();
    document.getElementById('quiz-score').innerHTML = '';
}
window.onload = () => { generateQuiz(); renderQuiz(); }

  // Quiz t·ª´ th·∫ßy T√πng
  function loadClassQuizHtml() {
  // ƒê·∫£m b·∫£o ch·ªâ load 1 l·∫ßn
  if(document.getElementById('classquiz-container').dataset.loaded) return;
  fetch('classquiz.html') // ƒë·ªïi th√†nh t√™n file HTML quiz l·ªõp c·ªßa b·∫°n
    .then(r => r.text())
    .then(html => {
      document.getElementById('classquiz-container').innerHTML = html;
      document.getElementById('classquiz-container').dataset.loaded = '1';
    })
    .catch(err => {
      document.getElementById('classquiz-container').innerHTML = 'Kh√¥ng t·∫£i ƒë∆∞·ª£c n·ªôi dung Class Quiz.<br><small>'+err+'</small>';
    });
}

// S·ª≠a l·∫°i showTab ƒë·ªÉ auto load khi m·ªü tab classquiz
function showTab(event, tabName) {
  document.querySelectorAll('.tab').forEach(e => e.classList.remove('active'));
  document.querySelectorAll('.tab-content').forEach(e => e.classList.remove('active'));
  if(event) event.target.classList.add('active');
  document.getElementById(tabName).classList.add('active');
  if(tabName === "quiz") resetQuiz();
  if(tabName === "classquiz") loadClassQuizHtml();
  if(tabName !== "schema") closePanel();
}

</script>
</body>
</html>
