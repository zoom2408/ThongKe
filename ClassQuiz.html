<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C√¢u H·ªèi L·ªõp - Th·ªëng K√™ ·ª®ng D·ª•ng</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', Arial, sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        /* Header matching your site style */
        .header {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            padding: 20px;
            text-align: center;
            border-radius: 15px 15px 0 0;
            margin-bottom: 0;
        }

        .header h1 {
            font-size: 2.2em;
            margin-bottom: 10px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        /* Navigation back to main site */
        .nav-back {
            background: rgba(255,255,255,0.1);
            padding: 10px 20px;
            text-align: left;
            border-radius: 0;
        }

        .nav-back a {
            color: white;
            text-decoration: none;
            font-weight: 500;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .nav-back a:hover {
            text-decoration: underline;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 0 0 15px 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .setup-panel {
            padding: 30px;
            background: #f8f9fa;
            border-bottom: 3px solid #e9ecef;
        }

        .setup-panel h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.5em;
        }

        .input-group {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .input-group label {
            font-weight: bold;
            color: #555;
            min-width: 150px;
        }

        .input-group input, .input-group select {
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1em;
            transition: border-color 0.3s;
        }

        .input-group input:focus, .input-group select:focus {
            outline: none;
            border-color: #4CAF50;
        }

        .start-btn {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 8px;
            font-size: 1.1em;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .start-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.4);
        }

        .quiz-container {
            padding: 30px;
            display: none;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e9ecef;
            border-radius: 4px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #45a049);
            transition: width 0.3s ease;
        }

        .question-counter {
            text-align: center;
            margin-bottom: 20px;
            font-size: 1.1em;
            color: #666;
        }

        .question {
            background: #f8f9fa;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 30px;
            border-left: 5px solid #4CAF50;
        }

        .question h3 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.2em;
            line-height: 1.5;
        }

        .options {
            display: grid;
            gap: 12px;
        }

        .option {
            background: white;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            padding: 15px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .option:hover {
            border-color: #4CAF50;
            background: #f0f8f0;
        }

        .option.selected {
            border-color: #4CAF50;
            background: #e8f5e8;
        }

        .option.correct {
            border-color: #28a745;
            background: #d4edda;
            color: #155724;
        }

        .option.incorrect {
            border-color: #dc3545;
            background: #f8d7da;
            color: #721c24;
        }

        .option input[type="radio"] {
            margin: 0;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            cursor: pointer;
            transition: all 0.3s;
            min-width: 120px;
        }

        .btn-primary {
            background: linear-gradient(135deg, #007bff, #0056b3);
            color: white;
        }

        .btn-secondary {
            background: linear-gradient(135deg, #6c757d, #545b62);
            color: white;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .results {
            display: none;
            text-align: center;
            padding: 40px;
        }

        .score {
            font-size: 3em;
            font-weight: bold;
            margin-bottom: 20px;
        }

        .score.excellent { color: #28a745; }
        .score.good { color: #17a2b8; }
        .score.average { color: #ffc107; }
        .score.poor { color: #dc3545; }

        .explanation {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 15px;
            margin-top: 15px;
            border-radius: 0 8px 8px 0;
            display: none;
        }

        .explanation.show {
            display: block;
        }

        .explanation h4 {
            color: #1976d2;
            margin-bottom: 10px;
        }

        .explanation p {
            color: #333;
            line-height: 1.6;
        }

        .stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .stat-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            border-left: 5px solid #4CAF50;
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
            color: #4CAF50;
            display: block;
        }

        .stat-label {
            color: #666;
            margin-top: 5px;
        }

        @media (max-width: 768px) {
            body {
                padding: 10px;
            }
            
            .container {
                margin: 0;
                border-radius: 10px;
            }
            
            .header {
                padding: 20px;
                border-radius: 10px 10px 0 0;
            }
            
            .header h1 {
                font-size: 1.8em;
            }
            
            .input-group {
                flex-direction: column;
                align-items: stretch;
            }
            
            .input-group label {
                min-width: auto;
            }
            
            .controls {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="nav-back">
            <a href="index.html">‚Üê Quay l·∫°i trang ch·ªß</a>
        </div>
        <h1>üìä C√¢u H·ªèi L·ªõp</h1>
        <p>Th·ªëng k√™ ·ª©ng d·ª•ng trong T√¢m l√Ω h·ªçc - Luy·ªán t·∫≠p ki·ªÉm tra</p>
    </div>

    <div class="container">
        <div class="setup-panel" id="setupPanel">
            <h2>‚öôÔ∏è C√†i ƒê·∫∑t B√†i Ki·ªÉm Tra</h2>
            <div class="input-group">
                <label for="questionCount">S·ªë c√¢u h·ªèi:</label>
                <select id="questionCount">
                    <option value="15">15 c√¢u</option>
                    <option value="20" selected>20 c√¢u</option>
                    <option value="25">25 c√¢u</option>
                </select>
            </div>
            <div class="input-group">
                <label for="shuffleQuestions">
                    <input type="checkbox" id="shuffleQuestions" checked> Tr·ªôn th·ª© t·ª± c√¢u h·ªèi
                </label>
            </div>
            <div class="input-group">
                <label for="shuffleAnswers">
                    <input type="checkbox" id="shuffleAnswers" checked> Tr·ªôn th·ª© t·ª± ƒë√°p √°n
                </label>
            </div>
            <div class="input-group">
                <button class="start-btn" onclick="startQuiz()">üöÄ B·∫Øt ƒê·∫ßu Ki·ªÉm Tra</button>
            </div>
        </div>

        <div class="quiz-container" id="quizContainer">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <div class="question-counter" id="questionCounter"></div>
            <div id="questionsContainer"></div>
            <div class="controls">
                <button class="btn btn-primary" onclick="submitQuiz()">üìù N·ªôp B√†i</button>
                <button class="btn btn-secondary" onclick="resetQuiz()">üîÑ L√†m L·∫°i</button>
            </div>
        </div>

        <div class="results" id="results">
            <h2>üéØ K·∫øt Qu·∫£ B√†i Ki·ªÉm Tra</h2>
            <div class="score" id="scoreDisplay"></div>
            <div class="stats" id="statsDisplay"></div>
            <div class="controls">
                <button class="btn btn-primary" onclick="resetQuiz()">üîÑ L√†m B√†i M·ªõi</button>
                <button class="btn btn-secondary" onclick="showSetup()">‚öôÔ∏è C√†i ƒê·∫∑t L·∫°i</button>
            </div>
        </div>
    </div>

    <script>
        // Question bank with all 60 questions
        const questionBank = [
            {
                question: "M·ªôt nh√† nghi√™n c·ª©u ti·∫øn h√†nh m·ªôt cu·ªôc kh·∫£o s√°t ƒë·ªÉ ki·ªÉm tra xem li·ªáu m·ªôt ch∆∞∆°ng tr√¨nh can thi·ªáp t√¢m l√Ω c√≥ l√†m gi·∫£m lo √¢u ·ªü sinh vi√™n hay kh√¥ng. Gi·∫£ thuy·∫øt kh√¥ng (null hypothesis) ƒë∆∞·ª£c ƒë·∫∑t ra l√† \"ch∆∞∆°ng tr√¨nh kh√¥ng c√≥ t√°c d·ª•ng\". Sau khi ph√¢n t√≠ch d·ªØ li·ªáu, nh√† nghi√™n c·ª©u th·∫•y r·∫±ng nh√≥m sinh vi√™n tham gia ch∆∞∆°ng tr√¨nh c√≥ m·ª©c ƒë·ªô lo √¢u th·∫•p h∆°n so v·ªõi nh√≥m kh√¥ng tham gia, v√† quy·∫øt ƒë·ªãnh b√°c b·ªè gi·∫£ thuy·∫øt kh√¥ng. Tuy nhi√™n, tr√™n th·ª±c t·∫ø, ch∆∞∆°ng tr√¨nh kh√¥ng c√≥ t√°c d·ª•ng trong vi·ªác gi·∫£m lo √¢u. T√¨nh hu·ªëng n√†y l√† v√≠ d·ª• v·ªÅ:",
                options: [
                    "L·ªói lo·∫°i II (L·ªói kh√¥ng b√°c b·ªè gi·∫£ thuy·∫øt kh√¥ng khi n√≥ sai)",
                    "L·ªói lo·∫°i I (L·ªói b√°c b·ªè gi·∫£ thuy·∫øt kh√¥ng khi n√≥ ƒë√∫ng)",
                    "Gi·∫£ thuy·∫øt ƒë·∫∑t ra kh√¥ng ph√π h·ª£p",
                    "Kh√¥ng c√≥ ƒë√°p √°n n√†o ƒë√∫ng"
                ],
                correct: 1,
                explanation: "L·ªói lo·∫°i I x·∫£y ra khi ch√∫ng ta b√°c b·ªè gi·∫£ thuy·∫øt kh√¥ng (H‚ÇÄ) trong khi n√≥ th·ª±c s·ª± ƒë√∫ng. Trong tr∆∞·ªùng h·ª£p n√†y, nh√† nghi√™n c·ª©u b√°c b·ªè H‚ÇÄ (ch∆∞∆°ng tr√¨nh kh√¥ng c√≥ t√°c d·ª•ng) nh∆∞ng th·ª±c t·∫ø H‚ÇÄ l√† ƒë√∫ng."
            },
            // Add all other 59 questions here...
            {
                question: "Khi th·ª±c hi·ªán m·ªôt ki·ªÉm ƒë·ªãnh gi·∫£ thuy·∫øt, n·∫øu gi√° tr·ªã p nh·ªè h∆°n m·ª©c √Ω nghƒ©a 0.05, ƒëi·ªÅu n√†y c√≥ nghƒ©a l√† g√¨?",
                options: [
                    "Ch·∫•p nh·∫≠n gi·∫£ thuy·∫øt kh√¥ng",
                    "B√°c b·ªè gi·∫£ thuy·∫øt kh√¥ng",
                    "D·ªØ li·ªáu kh√¥ng c√≥ √Ω nghƒ©a th·ªëng k√™",
                    "D·ªØ li·ªáu c√≥ ph√¢n ph·ªëi chu·∫©n"
                ],
                correct: 1,
                explanation: "Khi p-value < Œ± (m·ª©c √Ω nghƒ©a), ch√∫ng ta b√°c b·ªè gi·∫£ thuy·∫øt kh√¥ng v√† k·∫øt lu·∫≠n r·∫±ng c√≥ b·∫±ng ch·ª©ng th·ªëng k√™ ƒë·ªÉ h·ªó tr·ª£ gi·∫£ thuy·∫øt nghi√™n c·ª©u."
            }
            // ... (Include all 60 questions from the previous artifact)
        ];

        let currentQuestions = [];
        let userAnswers = {};
        let quizStarted = false;

        function startQuiz() {
            const questionCount = parseInt(document.getElementById('questionCount').value);
            const shuffleQuestions = document.getElementById('shuffleQuestions').checked;
            const shuffleAnswers = document.getElementById('shuffleAnswers').checked;

            // Select random questions
            let selectedQuestions = [...questionBank];
            if (shuffleQuestions) {
                selectedQuestions = shuffleArray(selectedQuestions);
            }
            currentQuestions = selectedQuestions.slice(0, questionCount);

            // Shuffle answers if needed
            if (shuffleAnswers) {
                currentQuestions = currentQuestions.map(q => {
                    const shuffledOptions = shuffleArrayWithIndex(q.options);
                    return {
                        ...q,
                        options: shuffledOptions.array,
                        correct: shuffledOptions.newIndex[q.correct]
                    };
                });
            }

            userAnswers = {};
            quizStarted = true;

            // Show quiz container
            document.getElementById('setupPanel').style.display = 'none';
            document.getElementById('quizContainer').style.display = 'block';
            document.getElementById('results').style.display = 'none';

            renderQuestions();
            updateProgress();
        }

        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        function shuffleArrayWithIndex(array) {
            const indices = array.map((_, i) => i);
            const shuffledIndices = shuffleArray(indices);
            const newArray = shuffledIndices.map(i => array[i]);
            const newIndex = new Array(array.length);
            shuffledIndices.forEach((oldIndex, newPos) => {
                newIndex[oldIndex] = newPos;
            });
            return { array: newArray, newIndex };
        }

        function renderQuestions() {
            const container = document.getElementById('questionsContainer');
            const counter = document.getElementById('questionCounter');
            
            counter.textContent = `C√¢u h·ªèi: ${currentQuestions.length} c√¢u`;
            
            container.innerHTML = currentQuestions.map((q, index) => `
                <div class="question">
                    <h3>C√¢u ${index + 1}: ${q.question}</h3>
                    <div class="options">
                        ${q.options.map((option, optIndex) => `
                            <label class="option" onclick="selectAnswer(${index}, ${optIndex})">
                                <input type="radio" name="q${index}" value="${optIndex}">
                                <span>${String.fromCharCode(65 + optIndex)}. ${option}</span>
                            </label>
                        `).join('')}
                    </div>
                    <div class="explanation" id="explanation-${index}">
                        <h4>üí° Gi·∫£i th√≠ch:</h4>
                        <p>${q.explanation}</p>
                    </div>
                </div>
            `).join('');
        }

        function selectAnswer(questionIndex, optionIndex) {
            userAnswers[questionIndex] = optionIndex;
            
            // Update UI
            const options = document.querySelectorAll(`input[name="q${questionIndex}"]`);
            options.forEach((option, index) => {
                const label = option.closest('.option');
                label.classList.remove('selected');
                if (index === optionIndex) {
                    label.classList.add('selected');
                    option.checked = true;
                }
            });
            
            updateProgress();
        }

        function updateProgress() {
            const answered = Object.keys(userAnswers).length;
            const total = currentQuestions.length;
            const percentage = (answered / total) * 100;
            
            document.getElementById('progressFill').style.width = percentage + '%';
        }

        function submitQuiz() {
            if (Object.keys(userAnswers).length < currentQuestions.length) {
                if (!confirm('B·∫°n ch∆∞a tr·∫£ l·ªùi h·∫øt t·∫•t c·∫£ c√¢u h·ªèi. B·∫°n c√≥ ch·∫Øc mu·ªën n·ªôp b√†i?')) {
                    return;
                }
            }

            let correct = 0;
            let total = currentQuestions.length;

            // Show results for each question
            currentQuestions.forEach((q, index) => {
                const userAnswer = userAnswers[index];
                const isCorrect = userAnswer === q.correct;
                if (isCorrect) correct++;

                // Update question display
                const options = document.querySelectorAll(`input[name="q${index}"]`);
                options.forEach((option, optIndex) => {
                    const label = option.closest('.option');
                    label.classList.remove('selected');
                    
                    if (optIndex === q.correct) {
                        label.classList.add('correct');
                    } else if (optIndex === userAnswer && !isCorrect) {
                        label.classList.add('incorrect');
                    }
                    
                    option.disabled = true;
                });

                // Show explanation
                document.getElementById(`explanation-${index}`).classList.add('show');
            });

            // Calculate and display results
            const percentage = Math.round((correct / total) * 100);
            showResults(correct, total, percentage);

            // Hide controls
            document.querySelector('.controls').style.display = 'none';
        }

        function showResults(correct, total, percentage) {
            const resultsDiv = document.getElementById('results');
            const scoreDiv = document.getElementById('scoreDisplay');
            const statsDiv = document.getElementById('statsDisplay');

            let scoreClass = 'poor';
            let message = 'C·∫ßn c·ªë g·∫Øng th√™m! üí™';
            
            if (percentage >= 90) {
                scoreClass = 'excellent';
                message = 'Xu·∫•t s·∫Øc! üéâ';
            } else if (percentage >= 80) {
                scoreClass = 'good';
                message = 'T·ªët l·∫Øm! üëç';
            } else if (percentage >= 70) {
                scoreClass = 'average';
                message = 'Kh√° ·ªïn! üëå';
            }

            scoreDiv.className = `score ${scoreClass}`;
            scoreDiv.innerHTML = `${percentage}%<br><small>${message}</small>`;

            statsDiv.innerHTML = `
                <div class="stat-card">
                    <span class="stat-number">${correct}</span>
                    <div class="stat-label">C√¢u ƒë√∫ng</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number">${total - correct}</span>
                    <div class="stat-label">C√¢u sai</div>
                </div>
                <div class="stat-card">
                    <span class="stat-number">${total}</span>
                    <div class="stat-label">T·ªïng c√¢u</div>
                </div>
            `;

            resultsDiv.style.display = 'block';
            resultsDiv.scrollIntoView({ behavior: 'smooth' });
        }

        function resetQuiz() {
            userAnswers = {};
            quizStarted = false;
            
            document.getElementById('setupPanel').style.display = 'block';
            document.getElementById('quizContainer').style.display = 'none';
            document.getElementById('results').style.display = 'none';
            
            // Reset progress
            document.getElementById('progressFill').style.width = '0%';
            
            // Show controls again
            document.querySelector('.controls').style.display = 'flex';
        }

        function showSetup() {
            document.getElementById('results').style.display = 'none';
            document.getElementById('setupPanel').style.display = 'block';
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Set default values
            document.getElementById('questionCount').value = '20';
            document.getElementById('shuffleQuestions').checked = true;
            document.getElementById('shuffleAnswers').checked = true;
        });
    </script>
</body>
</html>